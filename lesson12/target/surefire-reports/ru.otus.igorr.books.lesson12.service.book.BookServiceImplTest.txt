-------------------------------------------------------------------------------
Test set: ru.otus.igorr.books.lesson12.service.book.BookServiceImplTest
-------------------------------------------------------------------------------
Tests run: 4, Failures: 0, Errors: 4, Skipped: 0, Time elapsed: 8.928 s <<< FAILURE! - in ru.otus.igorr.books.lesson12.service.book.BookServiceImplTest
addTest  Time elapsed: 0.011 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: 
Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.h2.jdbc.JdbcSQLException: 
Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]

getByIdTest  Time elapsed: 0.001 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: 
Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.h2.jdbc.JdbcSQLException: 
Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]

getList  Time elapsed: 0.021 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: 
Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.h2.jdbc.JdbcSQLException: 
Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]

addNoteTest  Time elapsed: 0.001 s  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: 
Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: 
Failed to execute SQL script statement #1 of class path resource [testdata.sql]: insert into genre(id, name, description) values(1, 'genre.1','genre.1.description'); nested exception is org.h2.jdbc.JdbcSQLException: Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]
Caused by: org.h2.jdbc.JdbcSQLException: 
Нарушение уникального индекса или первичного ключа: "PRIMARY KEY ON PUBLIC.GENRE(ID)"
Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.GENRE(ID)"; SQL statement:
insert into genre(id, name, description) values(1, 'genre.1','genre.1.description') [23505-197]

